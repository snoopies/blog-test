<html>
<head>
  <title>DeviceOrientationEvent</title>
  <script language="javascript" type="text/javascript">

	if (window.DeviceMotionEvent) { 
                 window.addEventListener('devicemotion',deviceMotionHandler, false);  
        } 
        var speed = 30;//speed
        var x = y = z = lastX = lastY = lastZ = 0;
        function deviceMotionHandler(eventData) {  
          var acceleration =eventData.accelerationIncludingGravity;
                x = acceleration.x;
                y = acceleration.y;
                z = acceleration.z;
                if(Math.abs(x-lastX) > speed || Math.abs(y-lastY) > speed || Math.abs(z-lastZ) > speed) {
                    //简单的摇一摇触发代码
                    alert(1);
                }
                lastX = x;
                lastY = y;
                lastZ = z;
	      document.getElementById("alpha").innerHTML = x;
	      document.getElementById("beta").innerHTML = y;
	      document.getElementById("gamma").innerHTML = z;
       }

  </script>
  <meta charset="UTF-8" />
</head>
<body>
  <p>左右：<span id="alpha">0</span></p>
  <p>前后：<span id="beta">0</span></p>
  <p>扭转：<span id="gamma">0</span></p>
  <p>指北针指向：<span id="heading">0</span>度</p>
  <p>指北针精度：<span id="accuracy">0</span>度</p>
</body>
</html>